(function(){"use strict";var Je={},ya=function(e,a,r,l,n){var s=new Worker(Je[a]||(Je[a]=URL.createObjectURL(new Blob([e+';addEventListener("error",function(e){e=e.error;postMessage({$e$:[e.message,e.code,e.stack]})})'],{type:"text/javascript"}))));return s.onmessage=function(t){var p=t.data,o=p.$e$;if(o){var i=new Error(o[0]);i.code=o[1],i.stack=o[2],n(i,null)}else n(null,p)},s.postMessage(r,l),s},E=Uint8Array,k=Uint16Array,Ae=Int32Array,re=new E([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),le=new E([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),ve=new E([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),Ye=function(e,a){for(var r=new k(31),l=0;l<31;++l)r[l]=a+=1<<e[l-1];for(var n=new Ae(r[30]),l=1;l<30;++l)for(var s=r[l];s<r[l+1];++s)n[s]=s-r[l]<<5|l;return{b:r,r:n}},Ze=Ye(re,2),Ce=Ze.b,ye=Ze.r;Ce[28]=258,ye[258]=28;for(var Xe=Ye(le,0),Qe=Xe.b,Me=Xe.r,ge=new k(32768),L=0;L<32768;++L){var Q=(L&43690)>>1|(L&21845)<<1;Q=(Q&52428)>>2|(Q&13107)<<2,Q=(Q&61680)>>4|(Q&3855)<<4,ge[L]=((Q&65280)>>8|(Q&255)<<8)>>1}for(var x=function(e,a,r){for(var l=e.length,n=0,s=new k(a);n<l;++n)e[n]&&++s[e[n]-1];var t=new k(a);for(n=1;n<a;++n)t[n]=t[n-1]+s[n-1]<<1;var p;if(r){p=new k(1<<a);var o=15-a;for(n=0;n<l;++n)if(e[n])for(var i=n<<4|e[n],c=a-e[n],u=t[e[n]-1]++<<c,y=u|(1<<c)-1;u<=y;++u)p[ge[u]>>o]=i}else for(p=new k(l),n=0;n<l;++n)e[n]&&(p[n]=ge[t[e[n]-1]++]>>15-e[n]);return p},Z=new E(288),L=0;L<144;++L)Z[L]=8;for(var L=144;L<256;++L)Z[L]=9;for(var L=256;L<280;++L)Z[L]=7;for(var L=280;L<288;++L)Z[L]=8;for(var ne=new E(32),L=0;L<32;++L)ne[L]=5;var ea=x(Z,9,0),aa=x(Z,9,1),ra=x(ne,5,0),la=x(ne,5,1),we=function(e){for(var a=e[0],r=1;r<e.length;++r)e[r]>a&&(a=e[r]);return a},W=function(e,a,r){var l=a/8|0;return(e[l]|e[l+1]<<8)>>(a&7)&r},Re=function(e,a){var r=a/8|0;return(e[r]|e[r+1]<<8|e[r+2]<<16)>>(a&7)},se=function(e){return(e+7)/8|0},ee=function(e,a,r){return(a==null||a<0)&&(a=0),(r==null||r>e.length)&&(r=e.length),new E(e.subarray(a,r))},na=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],N=function(e,a,r){var l=new Error(a||na[e]);if(l.code=e,Error.captureStackTrace&&Error.captureStackTrace(l,N),!r)throw l;return l},Ie=function(e,a,r,l){var n=e.length,s=l?l.length:0;if(!n||a.f&&!a.l)return r||new E(0);var t=!r,p=t||a.i!=2,o=a.i;t&&(r=new E(n*3));var i=function(de){var $e=r.length;if(de>$e){var he=new E(Math.max($e*2,de));he.set(r),r=he}},c=a.f||0,u=a.p||0,y=a.b||0,R=a.l,O=a.d,$=a.m,A=a.n,b=n*8;do{if(!R){c=W(e,u,1);var g=W(e,u+1,3);if(u+=3,g)if(g==1)R=aa,O=la,$=9,A=5;else if(g==2){var S=W(e,u,31)+257,d=W(e,u+10,15)+4,f=S+W(e,u+5,31)+1;u+=14;for(var h=new E(f),w=new E(19),m=0;m<d;++m)w[ve[m]]=W(e,u+m*3,7);u+=d*3;for(var P=we(w),T=(1<<P)-1,I=x(w,P,1),m=0;m<f;){var U=I[W(e,u,T)];u+=U&15;var v=U>>4;if(v<16)h[m++]=v;else{var z=0,C=0;for(v==16?(C=3+W(e,u,3),u+=2,z=h[m-1]):v==17?(C=3+W(e,u,7),u+=3):v==18&&(C=11+W(e,u,127),u+=7);C--;)h[m++]=z}}var B=h.subarray(0,S),D=h.subarray(S);$=we(B),A=we(D),R=x(B,$,1),O=x(D,A,1)}else N(1);else{var v=se(u)+4,F=e[v-4]|e[v-3]<<8,_=v+F;if(_>n){o&&N(0);break}p&&i(y+F),r.set(e.subarray(v,_),y),a.b=y+=F,a.p=u=_*8,a.f=c;continue}if(u>b){o&&N(0);break}}p&&i(y+131072);for(var Fe=(1<<$)-1,j=(1<<A)-1,X=u;;X=u){var z=R[Re(e,u)&Fe],V=z>>4;if(u+=z&15,u>b){o&&N(0);break}if(z||N(2),V<256)r[y++]=V;else if(V==256){X=u,R=null;break}else{var G=V-254;if(V>264){var m=V-257,M=re[m];G=W(e,u,(1<<M)-1)+Ce[m],u+=M}var Y=O[Re(e,u)&j],oe=Y>>4;Y||N(3),u+=Y&15;var D=Qe[oe];if(oe>3){var M=le[oe];D+=Re(e,u)&(1<<M)-1,u+=M}if(u>b){o&&N(0);break}p&&i(y+131072);var fe=y+G;if(y<D){var Pe=s-D,Ne=Math.min(D,fe);for(Pe+y<0&&N(3);y<Ne;++y)r[y]=l[Pe+y]}for(;y<fe;++y)r[y]=r[y-D]}}a.l=R,a.p=X,a.b=y,a.f=c,R&&(c=1,a.m=$,a.d=O,a.n=A)}while(!c);return y!=r.length&&t?ee(r,0,y):r.subarray(0,y)},J=function(e,a,r){r<<=a&7;var l=a/8|0;e[l]|=r,e[l+1]|=r>>8},te=function(e,a,r){r<<=a&7;var l=a/8|0;e[l]|=r,e[l+1]|=r>>8,e[l+2]|=r>>16},_e=function(e,a){for(var r=[],l=0;l<e.length;++l)e[l]&&r.push({s:l,f:e[l]});var n=r.length,s=r.slice();if(!n)return{t:ke,l:0};if(n==1){var t=new E(r[0].s+1);return t[r[0].s]=1,{t,l:1}}r.sort(function(_,S){return _.f-S.f}),r.push({s:-1,f:25001});var p=r[0],o=r[1],i=0,c=1,u=2;for(r[0]={s:-1,f:p.f+o.f,l:p,r:o};c!=n-1;)p=r[r[i].f<r[u].f?i++:u++],o=r[i!=c&&r[i].f<r[u].f?i++:u++],r[c++]={s:-1,f:p.f+o.f,l:p,r:o};for(var y=s[0].s,l=1;l<n;++l)s[l].s>y&&(y=s[l].s);var R=new k(y+1),O=me(r[c-1],R,0);if(O>a){var l=0,$=0,A=O-a,b=1<<A;for(s.sort(function(S,d){return R[d.s]-R[S.s]||S.f-d.f});l<n;++l){var g=s[l].s;if(R[g]>a)$+=b-(1<<O-R[g]),R[g]=a;else break}for($>>=A;$>0;){var v=s[l].s;R[v]<a?$-=1<<a-R[v]++-1:++l}for(;l>=0&&$;--l){var F=s[l].s;R[F]==a&&(--R[F],++$)}O=a}return{t:new E(R),l:O}},me=function(e,a,r){return e.s==-1?Math.max(me(e.l,a,r+1),me(e.r,a,r+1)):a[e.s]=r},Te=function(e){for(var a=e.length;a&&!e[--a];);for(var r=new k(++a),l=0,n=e[0],s=1,t=function(o){r[l++]=o},p=1;p<=a;++p)if(e[p]==n&&p!=a)++s;else{if(!n&&s>2){for(;s>138;s-=138)t(32754);s>2&&(t(s>10?s-11<<5|28690:s-3<<5|12305),s=0)}else if(s>3){for(t(n),--s;s>6;s-=6)t(8304);s>2&&(t(s-3<<5|8208),s=0)}for(;s--;)t(n);s=1,n=e[p]}return{c:r.subarray(0,l),n:a}},ce=function(e,a){for(var r=0,l=0;l<a.length;++l)r+=e[l]*a[l];return r},ze=function(e,a,r){var l=r.length,n=se(a+2);e[n]=l&255,e[n+1]=l>>8,e[n+2]=e[n]^255,e[n+3]=e[n+1]^255;for(var s=0;s<l;++s)e[n+s+4]=r[s];return(n+4+l)*8},De=function(e,a,r,l,n,s,t,p,o,i,c){J(a,c++,r),++n[256];for(var u=_e(n,15),y=u.t,R=u.l,O=_e(s,15),$=O.t,A=O.l,b=Te(y),g=b.c,v=b.n,F=Te($),_=F.c,S=F.n,d=new k(19),f=0;f<g.length;++f)++d[g[f]&31];for(var f=0;f<_.length;++f)++d[_[f]&31];for(var h=_e(d,7),w=h.t,m=h.l,P=19;P>4&&!w[ve[P-1]];--P);var T=i+5<<3,I=ce(n,Z)+ce(s,ne)+t,U=ce(n,y)+ce(s,$)+t+14+3*P+ce(d,w)+2*d[16]+3*d[17]+7*d[18];if(o>=0&&T<=I&&T<=U)return ze(a,c,e.subarray(o,o+i));var z,C,B,D;if(J(a,c,1+(U<I)),c+=2,U<I){z=x(y,R,0),C=y,B=x($,A,0),D=$;var Fe=x(w,m,0);J(a,c,v-257),J(a,c+5,S-1),J(a,c+10,P-4),c+=14;for(var f=0;f<P;++f)J(a,c+3*f,w[ve[f]]);c+=3*P;for(var j=[g,_],X=0;X<2;++X)for(var V=j[X],f=0;f<V.length;++f){var G=V[f]&31;J(a,c,Fe[G]),c+=w[G],G>15&&(J(a,c,V[f]>>5&127),c+=V[f]>>12)}}else z=ea,C=Z,B=ra,D=ne;for(var f=0;f<p;++f){var M=l[f];if(M>255){var G=M>>18&31;te(a,c,z[G+257]),c+=C[G+257],G>7&&(J(a,c,M>>23&31),c+=re[G]);var Y=M&31;te(a,c,B[Y]),c+=D[Y],Y>3&&(te(a,c,M>>5&8191),c+=le[Y])}else te(a,c,z[M]),c+=C[M]}return te(a,c,z[256]),c+C[256]},sa=new Ae([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),ke=new E(0),ta=function(e,a,r,l,n,s){var t=s.z||e.length,p=new E(l+t+5*(1+Math.ceil(t/7e3))+n),o=p.subarray(l,p.length-n),i=s.l,c=(s.r||0)&7;if(a){c&&(o[0]=s.r>>3);for(var u=sa[a-1],y=u>>13,R=u&8191,O=(1<<r)-1,$=s.p||new k(32768),A=s.h||new k(O+1),b=Math.ceil(r/3),g=2*b,v=function(Ke){return(e[Ke]^e[Ke+1]<<b^e[Ke+2]<<g)&O},F=new Ae(25e3),_=new k(288),S=new k(32),d=0,f=0,h=s.i||0,w=0,m=s.w||0,P=0;h+2<t;++h){var T=v(h),I=h&32767,U=A[T];if($[I]=U,A[T]=I,m<=h){var z=t-h;if((d>7e3||w>24576)&&(z>423||!i)){c=De(e,o,0,F,_,S,f,w,P,h-P,c),w=d=f=0,P=h;for(var C=0;C<286;++C)_[C]=0;for(var C=0;C<30;++C)S[C]=0}var B=2,D=0,Fe=R,j=I-U&32767;if(z>2&&T==v(h-j))for(var X=Math.min(y,z)-1,V=Math.min(32767,h),G=Math.min(258,z);j<=V&&--Fe&&I!=U;){if(e[h+B]==e[h+B-j]){for(var M=0;M<G&&e[h+M]==e[h+M-j];++M);if(M>B){if(B=M,D=j,M>X)break;for(var Y=Math.min(j,M-2),oe=0,C=0;C<Y;++C){var fe=h-j+C&32767,Pe=$[fe],Ne=fe-Pe&32767;Ne>oe&&(oe=Ne,U=fe)}}}I=U,U=$[I],j+=I-U&32767}if(D){F[w++]=268435456|ye[B]<<18|Me[D];var de=ye[B]&31,$e=Me[D]&31;f+=re[de]+le[$e],++_[257+de],++S[$e],m=h+B,++d}else F[w++]=e[h],++_[e[h]]}}for(h=Math.max(h,m);h<t;++h)F[w++]=e[h],++_[e[h]];c=De(e,o,i,F,_,S,f,w,P,h-P,c),i||(s.r=c&7|o[c/8|0]<<3,c-=7,s.h=A,s.p=$,s.i=h,s.w=m)}else{for(var h=s.w||0;h<t+i;h+=65535){var he=h+65535;he>=t&&(o[c/8|0]=i,he=t),c=ze(o,c+1,e.subarray(h,he))}s.i=t}return ee(p,0,l+se(c)+n)},ca=function(){for(var e=new Int32Array(256),a=0;a<256;++a){for(var r=a,l=9;--l;)r=(r&1&&-306674912)^r>>>1;e[a]=r}return e}(),pa=function(){var e=-1;return{p:function(a){for(var r=e,l=0;l<a.length;++l)r=ca[r&255^a[l]]^r>>>8;e=r},d:function(){return~e}}},Ue=function(){var e=1,a=0;return{p:function(r){for(var l=e,n=a,s=r.length|0,t=0;t!=s;){for(var p=Math.min(t+2655,s);t<p;++t)n+=l+=r[t];l=(l&65535)+15*(l>>16),n=(n&65535)+15*(n>>16)}e=l,a=n},d:function(){return e%=65521,a%=65521,(e&255)<<24|(e&65280)<<8|(a&255)<<8|a>>8}}},be=function(e,a,r,l,n){if(!n&&(n={l:1},a.dictionary)){var s=a.dictionary.subarray(-32768),t=new E(s.length+e.length);t.set(s),t.set(e,s.length),e=t,n.w=s.length}return ta(e,a.level==null?6:a.level,a.mem==null?n.l?Math.ceil(Math.max(8,Math.min(13,Math.log(e.length)))*1.5):20:12+a.mem,r,l,n)},wa=function(e,a){var r={};for(var l in e)r[l]=e[l];for(var l in a)r[l]=a[l];return r},ia=function(e,a,r){for(var l=e(),n=e.toString(),s=n.slice(n.indexOf("[")+1,n.lastIndexOf("]")).replace(/\s+/g,"").split(","),t=0;t<l.length;++t){var p=l[t],o=s[t];if(typeof p=="function"){a+=";"+o+"=";var i=p.toString();if(p.prototype)if(i.indexOf("[native code]")!=-1){var c=i.indexOf(" ",8)+1;a+=i.slice(c,i.indexOf("(",c))}else{a+=i;for(var u in p.prototype)a+=";"+o+".prototype."+u+"="+p.prototype[u].toString()}else a+=i}else r[o]=p}return a},Se=[],Ra=function(e){var a=[];for(var r in e)e[r].buffer&&a.push((e[r]=new e[r].constructor(e[r])).buffer);return a},_a=function(e,a,r,l){if(!Se[r]){for(var n="",s={},t=e.length-1,p=0;p<t;++p)n=ia(e[p],n,s);Se[r]={c:ia(e[t],n,s),e:s}}var o=wa({},Se[r].e);return ya(Se[r].c+";onmessage=function(e){for(var k in e.data)self[k]=e.data[k];onmessage="+a.toString()+"}",r,o,Ra(o),l)},Be=function(){return[E,k,Ae,re,le,ve,Ce,Qe,aa,la,ge,na,x,we,W,Re,se,ee,N,Ie,Ma,ua,Oa]},Ve=function(){return[E,k,Ae,re,le,ve,ye,Me,ea,Z,ra,ne,ge,sa,ke,x,J,te,_e,me,Te,ce,ze,De,se,ee,ta,be,Na,ua]},ma=function(){return[oa,ha,ae,pa,ca]},Sa=function(){return[fa,Pa]},Ea=function(){return[Aa,ae,Ue]},La=function(){return[va]},ua=function(e){return postMessage(e,[e.buffer])},Oa=function(e){return e&&{out:e.size&&new E(e.size),dictionary:e.dictionary}},H=function(e){return e.ondata=function(a,r){return postMessage([a,r],[a.buffer])},function(a){a.data.length?(e.push(a.data[0],a.data[1]),postMessage([a.data[0].length])):e.flush()}},pe=function(e,a,r,l,n,s,t){var p,o=_a(e,l,n,function(i,c){i?(o.terminate(),a.ondata.call(a,i)):Array.isArray(c)?c.length==1?(a.queuedSize-=c[0],a.ondrain&&a.ondrain(c[0])):(c[1]&&o.terminate(),a.ondata.call(a,i,c[0],c[1])):t(c)});o.postMessage(r),a.queuedSize=0,a.push=function(i,c){a.ondata||N(5),p&&a.ondata(N(4,0,1),null,!!c),a.queuedSize+=i.length,o.postMessage([i,p=c],[i.buffer])},a.terminate=function(){o.terminate()},s&&(a.flush=function(){o.postMessage([])})},ae=function(e,a,r){for(;r;++a)e[a]=r,r>>>=8},oa=function(e,a){var r=a.filename;if(e[0]=31,e[1]=139,e[2]=8,e[8]=a.level<2?4:a.level==9?2:0,e[9]=3,a.mtime!=0&&ae(e,4,Math.floor(new Date(a.mtime||Date.now())/1e3)),r){e[3]=8;for(var l=0;l<=r.length;++l)e[l+10]=r.charCodeAt(l)}},fa=function(e){(e[0]!=31||e[1]!=139||e[2]!=8)&&N(6,"invalid gzip data");var a=e[3],r=10;a&4&&(r+=(e[10]|e[11]<<8)+2);for(var l=(a>>3&1)+(a>>4&1);l>0;l-=!e[r++]);return r+(a&2)},Pa=function(e){var a=e.length;return(e[a-4]|e[a-3]<<8|e[a-2]<<16|e[a-1]<<24)>>>0},ha=function(e){return 10+(e.filename?e.filename.length+1:0)},Aa=function(e,a){var r=a.level,l=r==0?0:r<6?1:r==9?3:2;if(e[0]=120,e[1]=l<<6|(a.dictionary&&32),e[1]|=31-(e[0]<<8|e[1])%31,a.dictionary){var n=Ue();n.p(a.dictionary),ae(e,2,n.d())}},va=function(e,a){return((e[0]&15)!=8||e[0]>>4>7||(e[0]<<8|e[1])%31)&&N(6,"invalid zlib data"),(e[1]>>5&1)==+!a&&N(6,"invalid zlib data: "+(e[1]&32?"need":"unexpected")+" dictionary"),(e[1]>>3&4)+2};function ie(e,a){return typeof e=="function"&&(a=e,e={}),this.ondata=a,e}var q=function(){function e(a,r){if(typeof a=="function"&&(r=a,a={}),this.ondata=r,this.o=a||{},this.s={l:0,i:32768,w:32768,z:32768},this.b=new E(98304),this.o.dictionary){var l=this.o.dictionary.subarray(-32768);this.b.set(l,32768-l.length),this.s.i=32768-l.length}}return e.prototype.p=function(a,r){this.ondata(be(a,this.o,0,0,this.s),r)},e.prototype.push=function(a,r){this.ondata||N(5),this.s.l&&N(4);var l=a.length+this.s.z;if(l>this.b.length){if(l>2*this.b.length-32768){var n=new E(l&-32768);n.set(this.b.subarray(0,this.s.z)),this.b=n}var s=this.b.length-this.s.z;this.b.set(a.subarray(0,s),this.s.z),this.s.z=this.b.length,this.p(this.b,!1),this.b.set(this.b.subarray(-32768)),this.b.set(a.subarray(s),32768),this.s.z=a.length-s+32768,this.s.i=32766,this.s.w=32768}else this.b.set(a,this.s.z),this.s.z+=a.length;this.s.l=r&1,(this.s.z>this.s.w+8191||r)&&(this.p(this.b,r||!1),this.s.w=this.s.i,this.s.i-=2)},e.prototype.flush=function(){this.ondata||N(5),this.s.l&&N(4),this.p(this.b,!1),this.s.w=this.s.i,this.s.i-=2},e}(),ga=function(){function e(a,r){pe([Ve,function(){return[H,q]}],this,ie.call(this,a,r),function(l){var n=new q(l.data);onmessage=H(n)},6,1)}return e}();function Na(e,a){return be(e,a||{},0,0)}var K=function(){function e(a,r){typeof a=="function"&&(r=a,a={}),this.ondata=r;var l=a&&a.dictionary&&a.dictionary.subarray(-32768);this.s={i:0,b:l?l.length:0},this.o=new E(32768),this.p=new E(0),l&&this.o.set(l)}return e.prototype.e=function(a){if(this.ondata||N(5),this.d&&N(4),!this.p.length)this.p=a;else if(a.length){var r=new E(this.p.length+a.length);r.set(this.p),r.set(a,this.p.length),this.p=r}},e.prototype.c=function(a){this.s.i=+(this.d=a||!1);var r=this.s.b,l=Ie(this.p,this.s,this.o);this.ondata(ee(l,r,this.s.b),this.d),this.o=ee(l,this.s.b-32768),this.s.b=this.o.length,this.p=ee(this.p,this.s.p/8|0),this.s.p&=7},e.prototype.push=function(a,r){this.e(a),this.c(r)},e}(),Ca=function(){function e(a,r){pe([Be,function(){return[H,K]}],this,ie.call(this,a,r),function(l){var n=new K(l.data);onmessage=H(n)},7,0)}return e}();function Ma(e,a){return Ie(e,{i:2},a&&a.out,a&&a.dictionary)}var Ge=function(){function e(a,r){this.c=pa(),this.l=0,this.v=1,q.call(this,a,r)}return e.prototype.push=function(a,r){this.c.p(a),this.l+=a.length,q.prototype.push.call(this,a,r)},e.prototype.p=function(a,r){var l=be(a,this.o,this.v&&ha(this.o),r&&8,this.s);this.v&&(oa(l,this.o),this.v=0),r&&(ae(l,l.length-8,this.c.d()),ae(l,l.length-4,this.l)),this.ondata(l,r)},e.prototype.flush=function(){q.prototype.flush.call(this)},e}(),Ia=function(){function e(a,r){pe([Ve,ma,function(){return[H,q,Ge]}],this,ie.call(this,a,r),function(l){var n=new Ge(l.data);onmessage=H(n)},8,1)}return e}(),xe=function(){function e(a,r){this.v=1,this.r=0,K.call(this,a,r)}return e.prototype.push=function(a,r){if(K.prototype.e.call(this,a),this.r+=a.length,this.v){var l=this.p.subarray(this.v-1),n=l.length>3?fa(l):4;if(n>l.length){if(!r)return}else this.v>1&&this.onmember&&this.onmember(this.r-l.length);this.p=l.subarray(n),this.v=0}K.prototype.c.call(this,r),this.s.f&&!this.s.l&&!r&&(this.v=se(this.s.p)+9,this.s={i:0},this.o=new E(0),this.push(new E(0),r))},e}(),Ta=function(){function e(a,r){var l=this;pe([Be,Sa,function(){return[H,K,xe]}],this,ie.call(this,a,r),function(n){var s=new xe(n.data);s.onmember=function(t){return postMessage(t)},onmessage=H(s)},9,0,function(n){return l.onmember&&l.onmember(n)})}return e}(),We=function(){function e(a,r){this.c=Ue(),this.v=1,q.call(this,a,r)}return e.prototype.push=function(a,r){this.c.p(a),q.prototype.push.call(this,a,r)},e.prototype.p=function(a,r){var l=be(a,this.o,this.v&&(this.o.dictionary?6:2),r&&4,this.s);this.v&&(Aa(l,this.o),this.v=0),r&&ae(l,l.length-4,this.c.d()),this.ondata(l,r)},e.prototype.flush=function(){q.prototype.flush.call(this)},e}(),za=function(){function e(a,r){pe([Ve,Ea,function(){return[H,q,We]}],this,ie.call(this,a,r),function(l){var n=new We(l.data);onmessage=H(n)},10,1)}return e}(),He=function(){function e(a,r){K.call(this,a,r),this.v=a&&a.dictionary?2:1}return e.prototype.push=function(a,r){if(K.prototype.e.call(this,a),this.v){if(this.p.length<6&&!r)return;this.p=this.p.subarray(va(this.p,this.v-1)),this.v=0}r&&(this.p.length<4&&N(6,"invalid zlib data"),this.p=this.p.subarray(0,-4)),K.prototype.c.call(this,r)},e}(),Da=function(){function e(a,r){pe([Be,La,function(){return[H,K,He]}],this,ie.call(this,a,r),function(l){var n=new He(l.data);onmessage=H(n)},11,0)}return e}(),ka=typeof TextDecoder<"u"&&new TextDecoder,Ua=0;try{ka.decode(ke,{stream:!0}),Ua=1}catch{}const ue=e=>{class a{constructor(){this.i=new e,this.i.ondata=(l,n)=>{this.ondata(null,l,n)}}push(l,n){try{this.queuedSize+=l.length,this.i.push(l,n),this.queuedSize-=l.length,this.ondrain&&this.ondrain(l.length)}catch(s){this.ondata(s,null,n||!1)}}}return a};let je=1;try{new ga().terminate()}catch{je=0}const Ba=je?{gzip:Ia,deflate:za,"deflate-raw":ga}:{gzip:ue(Ge),deflate:ue(We),"deflate-raw":ue(q)},Va=je?{gzip:Ta,deflate:Da,"deflate-raw":Ca}:{gzip:ue(xe),deflate:ue(He),"deflate-raw":ue(K)},ba=(e,a,r)=>{class l extends e{constructor(s){if(!arguments.length)throw new TypeError(`Failed to construct '${r}': 1 argument required, but only 0 present.`);const t=a[s];if(!t)throw new TypeError(`Failed to construct '${r}': Unsupported compression format: '${s}'`);let p=new t,o;super({start:i=>{p.ondata=(c,u,y)=>{c?i.error(c):u&&(i.enqueue(u),y&&(o?o():i.terminate()))}},transform:i=>{if(i instanceof ArrayBuffer)i=new Uint8Array(i);else if(ArrayBuffer.isView(i))i=new Uint8Array(i.buffer,i.byteOffset,i.byteLength);else throw new TypeError("The provided value is not of type '(ArrayBuffer or ArrayBufferView)'");if(p.push(i),p.queuedSize>=32768)return new Promise(c=>{p.ondrain=()=>{p.queuedSize<32768&&c()}})},flush:()=>new Promise(i=>{o=i,p.push(new Uint8Array(0),!0)})},{size:i=>i.byteLength|0,highWaterMark:65536},{size:i=>i.byteLength|0,highWaterMark:65536})}}return l};function Ga(e){return ba(e,Ba,"CompressionStream")}function xa(e){return ba(e,Va,"DecompressionStream")}const Ee=typeof globalThis>"u"?typeof self>"u"?typeof global>"u"?{}:global:self:globalThis;typeof Ee.CompressionStream>"u"&&(Ee.CompressionStream=Ga(TransformStream)),typeof Ee.DecompressionStream>"u"&&(Ee.DecompressionStream=xa(TransformStream));var Wa="蛋妙蛙种子草花小火龙恐喷杰尼龟卡咪水箭绿毛虫铁甲蛹巴大蝶独角壳针蜂波比鸟拉达烈雀嘴阿柏蛇怪皮丘雷穿山鼠王多兰娜后朗力诺可西六尾九胖丁超音蝠走路臭霸派斯特球摩鲁蛾地三喵猫老鸭哥猴暴蒂狗风速蚊香蝌蚪君泳士凯勇基胡腕豪喇叭芽口呆食玛瑙母毒刺拳石隆岩马焰兽磁合一葱嘟利海狮白泥舌贝鬼通耿催眠貘引梦人钳蟹巨霹雳电顽弹椰树嘎啦飞腿郎快头瓦双犀牛钻吉蔓藤袋墨金鱼星宝魔墙偶天螳螂迷唇姐击罗肯泰鲤普百变伊布边菊化盔镰刀翼急冻闪你哈克幻叶月桂竺葵锯鳄蓝立咕夜鹰芭瓢安圆丝蛛叉字灯笼古然咩羊茸美丽露才皇毽棉长手向日蜻蜓乌沼太阳亮黑暗鸦妖未知图腾果翁麒麟奇榛佛托土弟蝎钢千壶赫狃熊圈熔蜗猪珊瑚炮章桶信使翅戴加象顿Ⅱ惊鹿犬无畏战舞娃奶罐幸福公炎帝幼沙班洛亚凤时木守宫森林蜥蜴稚鸡壮跃狼纹直冲茧狩猎盾粉莲童帽乐河橡实鼻狡猾傲骨燕鸥莉奈朵溜糖雨蘑菇斗笠懒獭过动猿请假居忍面者脱妞吼爆幕下掌朝北优雅勾魂眼那恰姆落正拍负萤甜蔷薇溶吞牙鲨鲸驼煤炭跳噗晃斑颚蚁漠仙歌青绵七夕鼬斩饭匙鳅鲶虾兵螯秤念触摇篮羽丑纳飘浮泡隐怨影诅咒巡灵彷徨热带铃勃梭雪冰护豹珍珠樱空棘爱心哑属艾欧盖固坐祈代希苗台猛曼拿儿狸法师箱蟀勒伦琴含羞苞槌城结贵妇绅蜜女帕兹潜兔随卷耳魅东施铛响坦铜镜钟盆聒噪陆尖咬不良骷荧光霓虹自舔狂远Ｚ由卢席恩骑色霏莱谢米尔宙提主暖炒武刃丸剑探步哨约扒酷冷蚀豆鸽高雉幔庞滚蝙螺钉差搬运匠修建蟾蜍投摔打包保足蜈蚣车轮精根裙野蛮鲈混流氓红倒狒殿滑巾征哭具死神棺原肋始祖破灰尘索沫栗德单卵细胞造鹅倍四季萌哎呀败轻蜘坚齿组麻鳗宇烛幽晶斧嚏几何敏捷功夫父赤驹劈司令炸雄秃丫首恶燃烧毕云酋迪耶塔赛里狐呱贺掘彩蓓洁能鞘芳芙妮好鱿贼脚铠垃藻臂枪伞咚碎黏钥朽南瓜嗡哲裴格枭狙射炽咆哮虎漾壬笃啄铳少强锹农胜虻鬃弱坏驴仔重挽滴伪睡罩盗着竹疗环智挥猩掷胆噬堡爷参性：银伴陨枕戈谜拟Ｑ磨舵鳞杖璞・鸣哞鳍科莫迦虚吾肌费束辉纸御机夏蛋妙蛙種子草花小火龍恐噴傑尼龜卡咪水箭綠毛蟲鐵甲蛹巴大蝶獨角殼針蜂波比鳥拉達烈雀嘴阿柏蛇怪皮丘雷穿山鼠王多蘭娜后朗力諾可西六尾九胖丁超音蝠走路臭霸派斯特球摩魯蛾地三喵貓老鴨哥猴爆蒂狗風速蚊香蝌蚪君泳士凱勇基胡腕豪喇叭芽口呆食瑪瑙母毒刺拳石隆岩馬焰獸磁合一蔥嘟利海獅白泥舌貝鬼通耿催眠貘引夢人鉗蟹巨霹靂電頑彈椰樹嘎啦飛腿郎快頭瓦雙犀牛鑽吉蔓藤袋墨金魚星寶魔牆偶天螳螂迷唇姐擊羅肯泰鯉暴普百變伊布邊菊化盔鐮刀翼急凍閃你哈克幻葉月桂竺葵鋸鱷藍立咕夜鷹芭瓢安圓絲蛛叉字燈籠古然咩羊茸美麗露才皇毽棉長手向日蜻蜓烏沼太陽亮黑暗鴉妖未知圖騰果翁麒麟奇榛佛托土弟蠍鋼千壺赫狃熊圈熔蝸豬珊瑚炮章桶信使翅戴加象頓Ⅱ驚鹿犬無畏戰舞娃奶罐幸福公炎帝幼沙班洛亞鳳時木守宮森林蜥蜴稚雞壯躍狼紋直衝繭狩獵盾粉蓮童帽樂河橡實鼻狡猾傲骨燕鷗莉奈朵溜糖雨蘑菇斗笠懶獺過動猿請假居忍面者脫妞吼幕下掌朝北優雅勾魂眼那恰姆落正拍負螢甜薔薇溶吞牙鯊鯨駝煤炭跳噗晃斑顎蟻漠仙歌青綿七夕鼬斬飯匙鰍鯰蝦兵螯秤念觸搖籃羽醜納飄浮泡隱怨影詛咒巡靈彷徨熱帶鈴勃梭雪冰護豹珍珠櫻空棘愛心啞屬艾歐蓋固坐祈代希苗台猛曼拿兒狸法師箱蟀勒倫琴含羞苞槌城結貴婦紳蜜女帕茲潛兔隨捲耳魅東施鐺響坦銅鏡鐘盆聒噪陸尖咬不良骷光霓虹自舔狂遠Ｚ由盧席恩騎色霏萊謝米爾宙提主暖炒武刃丸劍探步哨約扒酷冷蝕豆鴿高雉幔龐滾蝙螺釘差搬運匠修建蟾蜍投摔打包保足蜈蚣車輪毬精根裙野蠻鱸混流氓紅倒狒殿滑巾徵哭具死神棺原肋始祖破灰塵索沫栗德單卵細胞造鵝倍四季萌哎呀敗輕蜘堅齒組麻鰻宇燭幽晶斧嚏幾何敏捷功夫父赤駒劈司令炸雄禿丫首惡燃燒畢雲酋迪耶塔賽里狐呱賀掘彩蓓潔能鞘芳芙妮好魷賊腳鎧垃藻臂槍傘咚碎黏鑰朽南瓜嗡哲裴格梟狙射熾咆哮虎漾壬篤啄銃少強鍬農勝虻鬃弱壞驢仔重挽滴偽睡罩盜著竹療環智揮猩擲膽噬堡爺參性：銀伴隕枕戈謎擬Ｑ磨舵鱗杖璞・鳴哞鰭科莫迦虛吾肌費束輝紙御機夏垒磊砰奥壘磊砰丑奧";const Fa=e=>({"en-US":"BLOCK","fr-FR":"BLOC","it-IT":"MELLA","de-DE":"RIEGEL","es-ES":"CUBO"})[e]||"BLOCK",Ha=(e,a="")=>({"ja-Hrkt-JP":"Lv","en-US":"Lv","fr-FR":"N.","it-IT":"L.","de-DE":"Lv.","es-ES":a=="RubySapphire"?"Nv":"Nv."})[e]||"Lv",ja=(e,a="")=>({"ja-Hrkt-JP":"Lv","en-US":"Lv","fr-FR":"N.","it-IT":"L.","de-DE":"Lv.","es-ES":a=="RubySapphire"?"Nv":"Nv."})[e]||"Lv",qa=e=>e=="de-DE"?"AP":"PP",Ka=()=>"ID",Ja=e=>({"ja-Hrkt-JP":"No","en-US":"No","fr-FR":"Nº","it-IT":"Nº","de-DE":"Nr.","es-ES":"N.º"})[e]||"No";function Ya(e){return e.search(/[\uE800-\uEE26]/u)===-1?e:Array.from(e).map(a=>{const r=a.codePointAt(0);return r!==void 0&&r>=59392&&r<=60966?Wa[r-59392]:a}).join("")}function Za(e){return e.search(/[\u1100-\u11FF\uE0C0-\uE0C7]/u)===-1?e:e.replaceAll("","그래서").replaceAll("","그러나").replaceAll("","그러면").replaceAll("","그러므로").replaceAll("","그런데").replaceAll("","그").replaceAll("","그리하여").replaceAll("ᆨᅩ","그리고").replaceAll("ᄉ","ᄊ").replaceAll("ᄀ","ᄁ").replaceAll("ᄃ","ᄄ").replaceAll("ᄇ","ᄈ").replaceAll("ᄌ","ᄍ").replaceAll("","ᄉ").replaceAll(/([\u1100-\u115F])([억옹울옥연운온언얼열인영을은])/gu,(a,r,l)=>r+l.normalize("NFD").substring(1)).replaceAll(/([가나다마바사자카타파하])([\u11A8-\u11FF])/gu,(a,r,l)=>r.normalize("NFD")+l).replaceAll(/^[\u1160-\u1175]+$/gum,a=>"ᅟ"+a.split("").join("ᅟ")).replaceAll(new RegExp("(?<![\\u1100-\\u115F])([\\u1160-\\u1175])","gu"),"ᄋ$1").replaceAll(/([\u1100-\u115F])(?![\u1160-\u1175]|$)/gum,"$1ᅠ").replaceAll(new RegExp("(?<![\\u1160-\\u1175])([\\u11A8-\\u11FF])","gum"),"ᅟᅠ$1").normalize()}function Xa(e){return e.replaceAll("[PK]","⒆").replaceAll("[PKMN]","⒆⒇").replaceAll("[UP_ARROW]","↑").replaceAll("[DOWN_ARROW]","↓").replaceAll("[LEFT_ARROW]","←").replaceAll("[RIGHT_ARROW]","→").replaceAll("[SUPER_ER]","ᵉʳ").replaceAll("[SUPER_E]","ᵉ").replaceAll("[SUPER_RE]","ʳᵉ").replaceAll("[UP_ARROW_2]","↑").replaceAll("[DOWN_ARROW_2]","↓").replaceAll("[LEFT_ARROW_2]","←").replaceAll("[RIGHT_ARROW_2]","→").replaceAll("[PLUS]","+").replaceAll("[UNDERSCORE]","_").replaceAll("[KANJI_BIG]","大").replaceAll("[KANJI_SMALL]","小").replaceAll("[DAKUTEN]","゛").replaceAll("[HANDAKUTEN]","゜")}function Qa(e){return e.replaceAll("[..]","‥").replaceAll("[゛]","゛").replaceAll("[゜]","゜").replaceAll("[^er]","ᵉʳ")}function er(e){return e.search(/[\u2460-\u2487]/u)===-1?e:e.replaceAll("⑩","ᵉʳ").replaceAll("⑪","ʳᵉ").replaceAll("⑫","ʳ").replaceAll("⒅","ᵉ")}function ar(e){return e.replaceAll("","✜").replaceAll("","Ⓐ").replaceAll("","Ⓑ").replaceAll("","⊕").replaceAll("","⊖").replaceAll("","①").replaceAll("","②").replaceAll("","◎").replaceAll("","Ⓒ").replaceAll("","Ⓩ").replaceAll("","👆︎").replaceAll("▽","\\r").replaceAll("▼","\\c").replaceAll("㌨","♂").replaceAll("㌩","♀").replaceAll("㌕","◎").replaceAll("㌀","①").replaceAll("㌁","②").replaceAll("¼","ᵉʳ").replaceAll("½","ʳᵉ").replaceAll("¾","ᵉ").replaceAll("\\f","\\c").replaceAll("%quot;",'"')}function rr(e){return Ya(Za(e.search(/[\uE000-\uE0A8]/u)===-1?e:e.replaceAll("","Ⓐ").replaceAll("","Ⓑ").replaceAll("","Ⓧ").replaceAll("","Ⓨ").replaceAll("","Ⓛ").replaceAll("","Ⓡ").replaceAll("","✜").replaceAll("","🏠︎").replaceAll("","ᵉʳ").replaceAll("","ʳᵉ").replaceAll("","ʳ").replaceAll("","♥").replaceAll("","♪").replaceAll("","ᵉ").replaceAll("",".").replaceAll("",",").replaceAll("",".").replaceAll("",",").replaceAll("",".").replaceAll("",",").replaceAll("",".").replaceAll("",",")))}function lr(e){return e.search(/[\uE104\uE300-\uE31C]/u)===-1?e:e.replaceAll("","✨︎").replaceAll("","$").replaceAll("","A").replaceAll("","B").replaceAll("","C").replaceAll("","D").replaceAll("","E").replaceAll("","F").replaceAll("","G").replaceAll("","H").replaceAll("","I").replaceAll("","J").replaceAll("","K").replaceAll("","L").replaceAll("","M").replaceAll("","N").replaceAll("","O").replaceAll("","P").replaceAll("","Q").replaceAll("","R").replaceAll("","S").replaceAll("","T").replaceAll("","U").replaceAll("","V").replaceAll("","W").replaceAll("","X").replaceAll("","Y").replaceAll("","Z").replaceAll("","!").replaceAll("","?")}function nr(e){return e.search(/\{[^|}]+\|[^|}]+\}/u)===-1?e:e.replaceAll(/^.*\{[^|}]+\|[^|}]+\}.*$/gum,a=>{const r=a.replaceAll(/\{([^|}]+)\|[^|}]+\}/gu,"$1"),l=a.replaceAll(/\{[^|}]+\|([^|}]+)\}/gu,"$1");return[a,"󰀀",r,"󰀁",l].join("")})}function sr(e,a){switch(a){case"Emerald":e=Xa(e);break;case"DiamondPearl":case"Platinum":case"HeartGoldSoulSilver":case"BlackWhite":case"Black2White2":e=er(e);break;case"XY":case"OmegaRubyAlphaSapphire":case"SunMoon":case"UltraSunUltraMoon":case"Bank":e=rr(e);break;case"LetsGoPikachuLetsGoEevee":case"SwordShield":case"BrilliantDiamondShiningPearl":case"LegendsArceus":case"ScarletViolet":case"HOME":e=lr(e);break;case"Colosseum":case"XD":e=Qa(e);break;case"BattleRevolution":case"Ranch":e=ar(e);break}return nr(e)}function tr(e){return e.replaceAll("\\\\","󰄀").replaceAll("\\n",`
`).replaceAll("\\r","\r").replaceAll("\\c","\f").replaceAll("󰄀","\\\\")}function cr(e){return e.split("󰀀")[0]}function pr(e){return e.search(/[\u{F1000}\u{F1001}]/u)===-1?e:["<dl>",...e.split("󱀀").map(a=>a.split("󱀁")).map(([a,r])=>`<dt>${a}</dt><dd>${r}</dd>`),"</dl>"].join("")}function Le(e,a,r=""){const l=[];return e.length>0&&l.push(`<span class="branch male">${e}</span>`),a.length>0&&l.push(`<span class="branch female">${a}</span>`),r.length>0&&l.push(`<span class="branch neuter">${r}</span>`),l.join('<span class="gender">/</span>')}function qe(e,a,r=""){const l=[];return e.length>0&&l.push(`<span class="branch singular">${e}</span>`),a.length>0&&l.push(`<span class="branch plural">${a}</span>`),r.length>0&&l.push(`<span class="branch zero">${r}</span>`),l.join('<span class="number">/</span>')}function da(e,a,r,l){const n=[];e.length>0&&n.push(`<span class="branch male singular">${e}</span>`),a.length>0&&n.push(`<span class="branch female singular">${a}</span>`);const s=n.join('<span class="gender singular">/</span>'),t=[];r.length>0&&t.push(`<span class="branch male plural">${r}</span>`),l.length>0&&t.push(`<span class="branch female plural">${l}</span>`);const p=t.join('<span class="gender plural">/</span>'),o=["number"];e.length>0&&r.length>0&&o.push("male"),a.length>0&&l.length>0&&o.push("female");const i=o.join(" ");return[s,p].join(`<span class="${i}">/</span>`)}function ir(e,a){const r=[];return e.length>0&&r.push(`<span class="branch apocope1">${e}</span>`),a.length>0&&r.push(`<span class="branch apocope2">${a}</span>`),r.join('<span class="apocope">/</span>')}function $a(e,a,r,l){const n=[];return e.length>0&&n.push(`<span class="branch version-${r}">${e}</span>`),a.length>0&&n.push(`<span class="branch version-${l}">${a}</span>`),n.join('<span class="version">/</span>')}const ur=(e,a)=>$a(e,a,"ruby","sapphire"),or=(e,a)=>$a(e,a,"scarlet","violet");function fr(e,a,r=""){const l=["Emerald"].includes(a),n=["DiamondPearl","Platinum","HeartGoldSoulSilver"].includes(a),s=["BlackWhite","Black2White2"].includes(a),t=a=="BrilliantDiamondShiningPearl",p=a=="BattleRevolution",o=a=="Ranch",i=n||s,c=["XY","OmegaRubyAlphaSapphire","SunMoon","UltraSunUltraMoon","Bank"].includes(a),u=["LetsGoPikachuLetsGoEevee","SwordShield","BrilliantDiamondShiningPearl","LegendsArceus","ScarletViolet","HOME"].includes(a),y=["LegendsArceus","ScarletViolet"].includes(a),R=["Colosseum","XD"].includes(a),O=s||c||u;return e=cr(e),e=e.replaceAll("\\\\","󰄀").replaceAll("\\[","󰄂").replaceAll("\\{","󰄄").replaceAll("<","󰄆").replaceAll(">","󰄇"),e=e.replaceAll("\\n","󰈀").replaceAll("\\r","󰈁").replaceAll("\\c","󰈂").replaceAll("	","󰈃"),e=n?e.replaceAll("[VAR 0207]","󰈇").replaceAll("[VAR 0208]","󰈈"):e,e=l?e.replaceAll("\\e","󰋿"):e,e=l||i?e.replaceAll("⒆","<sup>P</sup><sub>K</sub>").replaceAll("⒇","<sup>M</sup><sub>N</sub>"):e,e=c?e.replaceAll("","<sup>P</sup><sub>K</sub>").replaceAll("","<sup>M</sup><sub>N</sub>"):e,e=l?e.replaceAll("[POKE]","<sup>P</sup><sub>O</sub><sup>K</sup><sub>é</sub>").replaceAll("[POKEBLOCK]",`<sup>P</sup><sub>O</sub><sup>K</sup><sub>é</sub>󱄂${Fa(r)}󱄃`).replaceAll("[BLOCK]",`󱄂${Fa(r)}󱄃`).replaceAll("[POKEMELLA]","󱄂<sup>P</sup><sub>O</sub><sup>K</sup><sub>é</sub>MELLA󱄃").replaceAll("[MELLA]","󱄂MELLA󱄃").replaceAll("[POKEMELLE]","󱄂<sup>P</sup><sub>O</sub><sup>K</sup><sub>é</sub>MELLE󱄃").replaceAll("[MELLE]","󱄂MELLE󱄃").replaceAll("[UNK_SPACER]"," ").replaceAll("[LV]",`󱄂<span class="literal-small">${Ha(r)}</span>󱄃`).replaceAll("[LV_2]",`󱄂<span class="literal-small">${ja(r)}</span>󱄃`).replaceAll("[PP]",`󱄂<span class="literal-small">${qa(r)}</span>󱄃`).replaceAll("[ID]",`󱄂<span class="literal-small">${Ka()}</span>󱄃`).replaceAll("[NO]",`󱄂<span class="literal-small">${Ja(r)}</span>󱄃`):e,e=t?e.replaceAll(/\u{F0106}color=(.*?)\u{F0107}(.*?)\u{F0106}\/color\u{F0107}/gu,'<span style="color: $1">$2</span>').replaceAll(/\u{F0106}size=(.*?)\u{F0107}(.*?)\u{F0106}\/size\u{F0107}/gu,'<span style="font-size: $1">$2</span>').replaceAll(new RegExp("((?<=^|[\\u{F0201}\\u{F0202}\\u{F0200}]).*?)\\u{F0106}pos=(.*?)\\u{F0107}(.*?(?:[\\u{F0201}\\u{F0202}\\u{F0200}]|$)+)","gu"),'<span style="tab-size: $2">$1	$3</span>').replaceAll(new RegExp("((?<=^|[\\u{F0201}\\u{F0202}\\u{F0200}]).*?)\\u{F0106}line-indent=(.*?)\\u{F0107}(.*?(?:[\\u{F0201}\\u{F0202}\\u{F0200}]|$)+)","gu"),'<span style="tab-size: $2">$1	$3</span>'):e,e=n?e.replaceAll(/\[VAR FF01\(FF43\)\]\[VAR FF01\(30B3\)\]/gu,"").replaceAll(/\[VAR FF01\(FF43\)\](.+?)(?:\[VAR FF01\(30B3\)\]|[\u{F0201}\u{F0202}\u{F0200}]|$)/gu,'<span class="line-font-size-200"><span class="text-font-size-200">$1</span></span>').replaceAll("[VAR FF01(30B3)]","").replaceAll(new RegExp("((?<=^|[\\u{F0201}\\u{F0202}\\u{F0200}]).*?)\\[VAR 0203\\(..([0-9A-F]{2})\\)\\](.*?(?:[\\u{F0201}\\u{F0202}\\u{F0200}]|$)+)","gu"),($,A,b,g)=>`<span style="tab-size: ${parseInt(b,16)}pt">${A}	${g}</span>`).replaceAll(/\[VAR 0203\(..([0-9A-F]{2})\)\]/gu,"	").replaceAll(/\[VAR 0204\(..([0-9A-F]{2})\)\]/gu,($,A)=>`<div style="height: ${parseInt(A,16)}pt"></div>`).replaceAll(/\[VAR 0205\](.*?(?:[\u{F0201}\u{F0202}\u{F0200}]|$)+)/gu,'<span class="line-align-center">$1</span>').replaceAll(/\[VAR 0206\](.*?(?:[\u{F0201}\u{F0202}\u{F0200}]|$)+)/gu,'<span class="line-align-right">$1</span>'):e,e=O?e.replaceAll(/\[VAR BD02\](.*?(?:[\u{F0201}\u{F0202}\u{F0200}]|$)+)/gu,'<span class="line-align-center">$1</span>').replaceAll(/\[VAR BD03\(([0-9A-F]{4})\)\](.*?(?:[\u{F0201}\u{F0202}\u{F0200}]|$)+)/gu,($,A,b)=>`<span class="line-align-right" style="padding-right: ${parseInt(A,16)}pt">${b}</span>`).replaceAll(/\[VAR BD04\(([0-9A-F]{4})\)\](.*?(?:[\u{F0201}\u{F0202}\u{F0200}]|$)+)/gu,($,A,b)=>`<span class="line-align-left" style="padding-left: ${parseInt(A,16)}pt">${b}</span>`).replaceAll(new RegExp("((?<=^|[\\u{F0201}\\u{F0202}\\u{F0200}]).*?)\\[VAR BD05\\(..([0-9A-F]{2})\\)\\](.*?(?:[\\u{F0201}\\u{F0202}\\u{F0200}]|$)+)","gu"),($,A,b,g)=>`<span style="tab-size: ${parseInt(b,16)}pt">${A}	${g}</span>`).replaceAll(/\[VAR BD05\(..([0-9A-F]{2})\)\]/gu,"	"):e,e=p?e.replaceAll(/\[ALIGN 1\](.*?(?:[\u{F0201}\u{F0202}\u{F0200}]|$)+)(?=\[ALIGN \d+\]|$)/gu,'<span class="line-align-left">$1</span>').replaceAll(/\[ALIGN 2\](.*?(?:[\u{F0201}\u{F0202}\u{F0200}]|$)+)(?=\[ALIGN \d+\]|$)/gu,'<span class="line-align-center">$1</span>').replaceAll(/\[ALIGN 3\](.*?(?:[\u{F0201}\u{F0202}\u{F0200}]|$)+)(?=\[ALIGN \d+\]|$)/gu,'<span class="line-align-right">$1</span>'):e,e=n?e.replaceAll("󰈇󰈀",'<span class="c">[VAR 0207]</span><span class="n">\\n</span><br>').replaceAll("󰈈󰈀",'<span class="r">[VAR 0208]</span><span class="n">\\n</span><br>'):e,e=y?e.replaceAll("󰈁󰈀",'<span class="soft"> </span><span class="r">\\r</span><span class="n">\\n</span><wbr class="soft">'):e,e=e.replaceAll("󰈁󰈀",'<span class="r">\\r</span><span class="n">\\n</span><br>').replaceAll("󰈂󰈀",'<span class="c">\\c</span><span class="n">\\n</span><br>').replaceAll("󰈀󰈂",'<span class="n">\\n</span><span class="c">\\c</span><br>').replaceAll("󰋿󰈀",'<span class="e">\\e</span><span class="n">\\n</span><br>'),e=n?e.replaceAll("󰈇",'<span class="c">[VAR 0207]</span><br>').replaceAll("󰈈",'<span class="r">[VAR 0208]</span><br>'):e,e=e.replaceAll("󰈁",'<span class="r">\\r</span><br>').replaceAll("󰈂",'<span class="c">\\c</span><br>').replaceAll("󰈀",'<span class="n">\\n</span><br>').replaceAll("󰋿",'<span class="e">\\e</span><br>').replaceAll("󰈃",'<span class="tab">	</span>'),e=R?e.replaceAll(/\[unknown5_08_([0-9a-f]{2})_([0-9a-f]{2})_([0-9a-f]{2})_([0-9a-f]{2})\](.*?)(?:\[unknown5_08_ff_ff_ff_ff\]|$|(?=\u{F1000}))/gu,'<span style="color: #$1$2$3$4">$5</span>').replaceAll("[Player]",'<span class="var">[Player]</span>').replaceAll("[Player_alt]",'<span class="var">[Player_alt]</span>').replaceAll("[Rui]",'<span class="var">[Rui]</span>').replaceAll("[opp_trainer_class]",'<span class="var">[opp_trainer_class]</span>').replaceAll("[opp_trainer_name]",'<span class="var">[opp_trainer_name]</span>').replaceAll("[sent_out_pokemon_1]",'<span class="var">[sent_out_pokemon_1]</span>').replaceAll("[sent_out_pokemon_2]",'<span class="var">[sent_out_pokemon_2]</span>').replaceAll("[speechbubble]",'<span class="var">[speechbubble]</span>').replaceAll("[bubble_or_speaker]",'<span class="var">[bubble_or_speaker]</span>').replaceAll("[maybe_speaker_ID_toggle]",'<span class="var">[maybe_speaker_ID_toggle]</span>').replaceAll("[maybe_location]",'<span class="var">[maybe_location]</span>').replaceAll("[dialogue_end]",'<span class="var">[dialogue_end]</span>').replaceAll("[large_e]",'<span class="var">[large_e]</span>').replaceAll("[large_e+]",'<span class="var">[large_e+]</span>').replaceAll("[furi_kanji]",'<span class="var">[furi_kanji]</span>').replaceAll("[furi_kana]",'<span class="var">[furi_kana]</span>').replaceAll("[furi_close]",'<span class="var">[furi_close]</span>').replaceAll(/(\[some_[^\]]+?\])/gu,'<span class="var">$1</span>').replaceAll(/(\[unknown[^\]]+?\])/gu,'<span class="var">$1</span>').replaceAll(/(\[var_[^\]]\])/gu,'<span class="var">$1</span>'):e,e=p?e.replaceAll(/\[COLOR (\d+)\](.*?)(?:\[COLOR \d+\]|[\u{F0201}\u{F0202}\u{F0200}]|$)/gu,'<span class="color-pbr-$1">$2</span>').replaceAll(/(\[VERTOFFSET -?[\d.]+\])/gu,'<span class="vertoffset">$1</span>').replaceAll(/\[FONT ([0126])\](.*?(?:[\u{F0201}\u{F0202}\u{F0200}]|$)+)(?=\[FONT \d+\]|$)/gu,'<span class="font-pbr-$1">$2</span>').replaceAll(/(\[FONT [\d.]+\])/gu,'<span class="var">$1</span>').replaceAll(/\[SPACING (-?[\d.]+)\](.*?$)/gu,'<span class="spacing-$1">$2</span>'):e,e=o?e.replaceAll(/(%((\d+\$)?(\d*d|\d*\.\d+[fs]m?|ls)|(\(\d+\)%|\d+\$)?\{\}|\(\d+\)))/gu,'<span class="var">$1</span>').replaceAll(/(\$\d+\$)/gu,'<span class="var">$1</span>'):e,e=e.replaceAll("[NULL]",'<span class="null">[NULL]</span>').replaceAll("[COMP]",'<span class="compressed">[COMP]</span>'),e=l?e.replaceAll(/(\[DYNAMIC \d+\])/gu,'<span class="var">$1</span>').replaceAll(/(\[(?:(?:[ABLR]|START|SELECT)_BUTTON|DPAD_(?:UP|DOWN|LEFT|RIGHT|UPDOWN|LEFTRIGHT|NONE))\])/gu,'<span class="var">$1</span>').replaceAll(/(\[EMOJI_[^\]]+?\])/gu,'<span class="var">$1</span>').replaceAll(/(\[COLOR [^\]]+?\])/gu,'<span class="var">$1</span>').replaceAll("[COLOR]",'<span class="var">[COLOR]</span>').replaceAll(/(\[HIGHLIGHT [^\]]+?\])/gu,'<span class="var">$1</span>').replaceAll(/(\[SHADOW [^\]]+?\])/gu,'<span class="var">$1</span>').replaceAll(/(\[COLOR_HIGHLIGHT_SHADOW [^\]]+?\])/gu,'<span class="var">$1</span>').replaceAll(/(\[PALETTE [^\]]+?\])/gu,'<span class="var">$1</span>').replaceAll(/(\[(?:FONT [^\]]+?|FONT_[^\]]+?)\])/gu,'<span class="var">$1</span>').replaceAll(/(\[PAUSE \d+\])/gu,'<span class="var">$1</span>').replaceAll("[PAUSE_UNTIL_PRESS]",'<span class="var">[PAUSE_UNTIL_PRESS]</span>').replaceAll("[WAIT_SE]",'<span class="var">[WAIT_SE]</span>').replaceAll(/(\[PLAY_BGM [^\]]+?\])/gu,'<span class="var">$1</span>').replaceAll(/(\[ESCAPE \d+\])/gu,'<span class="var">$1</span>').replaceAll(/(\[PLAY_SE [^\]]+?\])/gu,'<span class="var">$1</span>').replaceAll(/(\[CLEAR \d+\])/gu,'<span class="var">$1</span>').replaceAll(/(\[CLEAR_TO \d+\])/gu,'<span class="var">$1</span>').replaceAll("[PAUSE_MUSIC]",'<span class="var">[PAUSE_MUSIC]</span>').replaceAll("[RESUME_MUSIC]",'<span class="var">[RESUME_MUSIC]</span>').replaceAll("[PLAYER]",'<span class="var">[PLAYER]</span>').replaceAll("[STR_VAR_1]",'<span class="var">[STR_VAR_1]</span>').replaceAll("[STR_VAR_2]",'<span class="var">[STR_VAR_2]</span>').replaceAll("[STR_VAR_3]",'<span class="var">[STR_VAR_3]</span>').replaceAll(/(\[B_[^\]]+?\])/gu,'<span class="var">$1</span>').replaceAll(/\u{F1102}\u{F1200}(.*?)\u{F1104}(.*?)\u{F1103}/gu,($,A,b)=>Le(A,b)).replaceAll(/\u{F1102}\u{F1207}(.*?)\u{F1104}(.*?)\u{F1103}/gu,($,A,b)=>ur(A,b)):e,e=O?e.replaceAll(/\[VAR (?:GENDBR|1100)\([0-9A-F]{4},([0-9A-F]{2})([0-9A-F]{2})\)\]([^[<{]*)/gu,($,A,b,g)=>{const v=parseInt(b,16),F=v+parseInt(A,16);return`${Le(g.substring(0,v),g.substring(v,F))}${g.substring(F)}`}).replaceAll(/\[VAR (?:GENDBR|1100)\([0-9A-F]{4},([0-9A-F]{2})([0-9A-F]{2}),00([0-9A-F]{2})\)\]([^[<{]*)/gu,($,A,b,g,v)=>{const F=parseInt(b,16),_=F+parseInt(A,16),S=_+parseInt(g,16);return`${Le(v.substring(0,F),v.substring(F,_),v.substring(_,S))}${v.substring(S)}`}).replaceAll(/\[VAR (?:NUMBRNCH|1101)\([0-9A-F]{4},([0-9A-F]{2})([0-9A-F]{2})\)\]([^[<{]*)/gu,($,A,b,g)=>{const v=parseInt(b,16),F=v+parseInt(A,16);return`${qe(g.substring(0,v),g.substring(v,F))}${g.substring(F)}`}).replaceAll(/\[VAR (?:1102)\([0-9A-F]{4},([0-9A-F]{2})([0-9A-F]{2}),([0-9A-F]{2})([0-9A-F]{2})\)\]([^[<{]*)/gu,($,A,b,g,v,F)=>{const _=parseInt(b,16),S=_+parseInt(A,16),d=S+parseInt(v,16),f=d+parseInt(g,16);return`${da(F.substring(0,_),F.substring(_,S),F.substring(S,d),F.substring(d,f))}${F.substring(f)}`}).replaceAll(/\[VAR (?:1104|1106)\([0-9A-F]{4},([0-9A-F]{2})([0-9A-F]{2})\)\]([^[<{]*)/gu,($,A,b,g)=>{const v=parseInt(b,16),F=v+parseInt(A,16);return`${ir(g.substring(0,v),g.substring(v,F))}${g.substring(F)}`}).replaceAll(/\[VAR (?:1105)\([0-9A-F]{4},([0-9A-F]{2})([0-9A-F]{2}),00([0-9A-F]{2})\)\]([^[<{]*)/gu,($,A,b,g,v)=>{const F=parseInt(b,16),_=F+parseInt(A,16),S=_+parseInt(g,16);return`${qe(v.substring(0,F),v.substring(F,_),v.substring(_,S))}${v.substring(S)}`}).replaceAll(/\[VAR (?:1107)\([0-9A-F]{4},([0-9A-F]{2})([0-9A-F]{2})\)\]([^[<{]*)/gu,($,A,b,g)=>{const v=parseInt(b,16),F=v+parseInt(A,16);return`${or(g.substring(0,v),g.substring(v,F))}${g.substring(F)}`}):e,e=t?e.replaceAll(/\[VAR 1[3-7A]00\((?:tagParameter=\d+,)?tagWordArray=([^[<{]*?)(?:\|([^[<{]*?))?\)\]/gu,($,A,b)=>Le(A,b??"")).replaceAll(/\[VAR 1[3-7A]01\((?:tagParameter=\d+,)?tagWordArray=([^[<{]*?)(?:\|([^[<{]*?))?\)\]/gu,($,A,b)=>qe(A,b??"")).replaceAll(/\[VAR 1[3-7A]02\((?:tagParameter=\d+,)?tagWordArray=([^[<{]*?)\|([^[<{]*?)\|([^[<{]*?)\|([^[<{]*?)\)\]/gu,($,A,b,g,v)=>da(A,b,g,v)):e,e=e.replaceAll(/(\[VAR [^\]]+?\])/gu,'<span class="var">$1</span>').replaceAll(/(\[WAIT [\d.]+\])/gu,'<span class="wait">$1</span>').replaceAll(/(\[SFX [\d.]+\])/gu,'<span class="sfx">$1</span>').replaceAll(/(\[~ \d+\])/gu,'<span class="unused">$1</span>').replaceAll(/\{([^|}]+)\|([^|}]+)\}/gu,"<ruby>$1<rp>(</rp><rt>$2</rt><rp>)</rp></ruby>").replaceAll(/(\s+$)/gu,'<span class="whitespace-trailing">$1</span>').replaceAll(/(^\s+)/gu,'<span class="whitespace-leading">$1</span>').replaceAll(/^(.+)\u{F1100}(.+?)\u{F1101}/gu,'<a class="speaker" data-var="$1">$2</a>').replaceAll(/\u{F1102}(.+?)\u{F1103}/gu,'<span class="literal">$1</span>').replaceAll("󰄀","\\").replaceAll("󰄂","[").replaceAll("󰄄","{").replaceAll("󰄆","&lt;").replaceAll("󰄇","&gt;"),pr(e)}const hr={"ja-Hrkt-JP":"『","ja-JP":"『","fr-FR":" : ","zh-CN":"：","zh-TW":"「"};function Ar(e){return hr[e]??": "}const vr="qid-ZZ",gr=e=>({success:!0,postfix:e}),Oe=e=>({success:!1,message:e});function br(e){const a=e.split(/(\b(?:NOT|AND|OR)\b|\\?["()])/u).filter(s=>s.length>0),r=[],l=[];let n=!1;for(const s of a){const t=s.trim();if(n&&t!=='"'){l[l.length-1]+=s;continue}switch(t){case"NOT":r.push(t);break;case"AND":case"OR":for(;r[r.length-1]!=="("&&(r[r.length-1]==="NOT"||r[r.length-1]==="AND"&&t==="OR"||t==r[r.length-1]);)l.push(r.pop());r.push(t);break;case'"':if(!n)r.push(t),n=!0,l.push("");else if(r[r.length-1]==='"')for(r.pop(),l.push(`"${l.pop()}"`),n=!1;r[r.length-1]==="NOT";)l.push(r.pop());break;case"(":r.push(t);break;case")":for(;r[r.length-1]!=="(";){if(r.length===0)return Oe("parentheses");l.push(r.pop())}if(r[r.length-1]!=="(")return Oe("parentheses");for(r.pop();r[r.length-1]==="NOT";)l.push(r.pop());break;default:t.length>0&&l.push(t)}}for(;r.length>0;){if(r[r.length-1]==="(")return Oe("parentheses");if(r[r.length-1]==='"')return Oe("quote");l.push(r.pop())}return gr(l)}function Fr(e,a){const r=[];for(const l of a)switch(l){case"NOT":{const n=r.pop();r.push(s=>!n(s));break}case"AND":{const n=r.pop(),s=r.pop();r.push(t=>s(t)&&n(t));break}case"OR":{const n=r.pop(),s=r.pop();r.push(t=>s(t)||n(t));break}default:if(l.startsWith('"')&&l.endsWith('"')){const n=l.substring(1,l.length-1);if(!e.caseInsensitive)r.push(s=>s.includes(n));else{const s=n.toLowerCase(),t=n.toUpperCase();r.push(p=>p.toLowerCase().includes(s)||p.toUpperCase().includes(t))}}else{const n=l.split(/\s+/);if(!e.caseInsensitive)r.push(s=>n.every(t=>s.includes(t)));else{const s=n.map(p=>p.toLowerCase()),t=n.map(p=>p.toUpperCase());r.push(p=>n.every((o,i)=>p.toLowerCase().includes(s[i])||p.toUpperCase().includes(t[i])))}}}for(;r.length>1;){const l=r.pop(),n=r.pop();r.push(s=>n(s)&&l(s))}return r.pop()}function dr(e){const a=br(e.query);if(a.success&&a.postfix.length>0){console.debug(a.postfix);const r=Fr(e,a.postfix);if(r)return r}return()=>!1}function $r(e){if(e.type==="exact")if(e.caseInsensitive){const a=e.query.toLowerCase(),r=e.query.toUpperCase();return l=>l.toLowerCase().includes(a)||l.toUpperCase().includes(r)}else return a=>a.includes(e.query);else if(e.type==="regex"){const a=new RegExp(e.query,e.caseInsensitive?"sui":"su");return r=>tr(r).match(a)!==null}else if(e.type==="boolean")return dr(e);return()=>!1}self.onmessage=e=>{const{index:a,params:r,collectionKey:l,fileKey:n,languages:s,files:t,speaker:p,speakerFiles:o,literals:i}=e.data,c=R=>{postMessage({index:a,status:R})},u=(R,O)=>{postMessage({index:a,status:R,result:O})},y=$r(r);try{const O=s.map((d,f)=>[d,sr(t[f],l)]).map(([d,f])=>{c("processing");const h=f.split(/\r\n|\n/),w=[];return r.languages.includes(d)&&h.forEach((m,P)=>{y(m)&&w.push(P)}),[d,w,h]}),$=p===void 0||o===void 0?[]:o.map(d=>{const f=d.split(/\r\n|\n/),h=f.indexOf(`Text File : ${p.textFile}`)+2,w=f.indexOf("~~~~~~~~~~~~~~~",h);return f.slice(h,w)}),A=[],b=new Set,g=[];O.forEach(([d,f,h])=>{A.push(d),f.forEach(w=>b.add(w)),g.push(h)});const v=(d,f)=>p===void 0?d:d.replace(/(.*?)(\[VAR 0114\(([0-9A-F]{4})\)\])(?:$|(?=\u{F0000}))/u,(h,w,m,P)=>{const T=parseInt(P,16),I=$[f][T];return`${m.replaceAll("[","\\[")}󱄀${I}${Ar(s[f])??": "}󱄁${w}`}),F=(d,f)=>{if(i===void 0||s[f]===vr)return d;for(const[h,{branch:w,line:m}]of Object.entries(i)){const P=`[${h}]`;let T=P;w===void 0?T=g[f][m-1]:w==="gender"?T=`󱈀${m.map(I=>g[f][I-1]).join("󱄄")}`:w==="version"?T=`󱈇${m.map(I=>g[f][I-1]).join("󱄄")}`:w==="language"&&(T=g[f][m[s[f]]-1]),l==="BattleRevolution"&&(T=T.substring(19).trim()),d=d.replaceAll(P,`󱄂${T}󱄃`)}return d},S=Array.from(b).sort((d,f)=>d-f).map(d=>g.map((f,h)=>{let w=f[d];return w=v(f[d]??"",h),w=F(w,h),fr(w,l,s[h])}));u("done",{collection:l,file:n,languages:A,lines:S})}catch(R){console.error(R),c("error")}}})();
